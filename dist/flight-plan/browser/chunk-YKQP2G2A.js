import{a as z,b as k}from"./chunk-47TPUHJW.js";import{m as F,n as T,o as B,p as R,q as N}from"./chunk-TKMHLRDS.js";import"./chunk-2CEVVDGB.js";import{a as D,b as E}from"./chunk-BPTX7YHV.js";import"./chunk-7ROXXU7J.js";import"./chunk-SY2ZXVJS.js";import"./chunk-POBAOHGX.js";import"./chunk-YY6PKKWH.js";import{f as I}from"./chunk-F6E2PCO4.js";import{a as w,b as A}from"./chunk-2ZYGBJ4M.js";import"./chunk-6QB5CJHO.js";import"./chunk-F2X3VGZZ.js";import{e as P}from"./chunk-X4I2DCXD.js";import{B as _,E as O,k as x,l as y,p as M,q as b,t as S}from"./chunk-W6HB4DVC.js";import{Cb as g,Ka as i,Ob as a,Pa as f,Pb as u,Qb as l,Wa as h,ab as C,ec as d,gc as c,ib as s,mb as v,rb as e,sb as n,tb as p}from"./chunk-LWB6VDSI.js";function j(o,r){o&1&&(e(0,"div",6),p(1,"p-progressSpinner"),e(2,"p"),a(3,"Loading statement analysis..."),n()())}function U(o,r){if(o&1&&p(0,"p-message",7),o&2){let t=g();s("text",t.error)}}function J(o,r){if(o&1&&(e(0,"div",27)(1,"div",28)(2,"h4"),a(3),n(),e(4,"p"),a(5),d(6,"date"),n()(),e(7,"div",29),p(8,"p-tag",30),e(9,"div",31),a(10),d(11,"number"),n()()()),o&2){let t=r.$implicit,m=g(2);i(3),u(t.name),i(2),u(c(6,7,t.date,"short")),i(3),s("value",t.status)("severity",m.getStatusSeverity(t.status)),i(),v(t.amount>=0?"positive":"negative"),i(),l(" R ",c(11,10,t.amount,"1.2-2")," ")}}function L(o,r){if(o&1&&(e(0,"div",8)(1,"div",9)(2,"p-card",10)(3,"div",11),a(4),n()(),e(5,"p-card",12)(6,"div",13),a(7),d(8,"number"),n()(),e(9,"p-card",14)(10,"div",15),a(11),d(12,"number"),n()(),e(13,"p-card",16)(14,"div",11),a(15),d(16,"number"),n()()(),e(17,"div",17)(18,"p-card",18),p(19,"p-chart",19),n(),e(20,"p-card",20),p(21,"p-chart",21),n()(),e(22,"p-card",22)(23,"div",23),C(24,J,12,13,"div",24),n()(),e(25,"p-card",25)(26,"div",26)(27,"p"),a(28,"\u2705 Statements uploaded successfully"),n(),e(29,"p"),a(30,"\u{1F504} Processing transactions and categorizing spending"),n(),e(31,"p"),a(32,"\u{1F4CA} ML analysis will show more detailed insights as more data is uploaded"),n(),e(33,"p"),a(34,"\u{1F4A1} Upload more statements to see better categorization and trends"),n()()()()),o&2){let t=g();i(4),u(t.statementCount),i(3),l("R ",c(8,11,t.totalMoneyIn,"1.2-2"),""),i(4),l("R ",c(12,14,t.totalMoneyOut,"1.2-2"),""),i(3),v(t.netAmount>=0?"positive":"negative"),i(),l(" R ",c(16,17,t.netAmount,"1.2-2")," "),i(4),s("data",t.categoryChartData)("options",t.chartOptions),i(2),s("data",t.flowChartData)("options",t.lineChartOptions),i(3),s("ngForOf",t.sampleStatements)}}var H=class o{constructor(r,t){this.route=r;this.http=t;this.setupCharts()}clientId;loading=!0;error=null;statementCount=2;totalMoneyIn=15420.5;totalMoneyOut=12350.75;netAmount=3069.75;sampleStatements=[{name:"FNB Statement (v2).pdf",date:new Date,status:"completed",amount:1200.5},{name:"FNB Statement.pdf",date:new Date(Date.now()-864e5),status:"completed",amount:-850.25}];categoryChartData;flowChartData;chartOptions;lineChartOptions;ngOnInit(){this.route.params.subscribe(r=>{this.clientId=+r.id,this.loadData()})}loadData(){setTimeout(()=>{this.loading=!1},1500)}getStatusSeverity(r){switch(r){case"completed":return"success";case"processing":return"info";case"uploaded":return"warn";case"failed":return"danger";default:return"info"}}setupCharts(){this.categoryChartData={labels:["Food & Dining","Transportation","Shopping","Bills & Utilities","Entertainment","Other"],datasets:[{data:[2500,800,1200,3500,600,900],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40"]}]},this.flowChartData={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Money In",data:[2500,2800,2200,3200,2900,3100],borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4},{label:"Money Out",data:[1800,2100,1900,2400,2200,2300],borderColor:"#ef4444",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]},this.chartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}},this.lineChartOptions={responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!0}}}}static \u0275fac=function(t){return new(t||o)(f(P),f(_))};static \u0275cmp=h({type:o,selectors:[["app-client-statements"]],decls:9,vars:4,consts:[[1,"client-statements-dashboard"],[1,"header"],[1,"subtitle"],["class","loading-container",4,"ngIf"],["severity","error",3,"text",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"loading-container"],["severity","error",3,"text"],[1,"dashboard-content"],[1,"summary-cards"],["header","Total Statements"],[1,"summary-value"],["header","Total Money In"],[1,"summary-value","positive"],["header","Total Money Out"],[1,"summary-value","negative"],["header","Net Amount"],[1,"charts-section"],["header","Spending by Category"],["type","doughnut",3,"data","options"],["header","Money Flow Over Time"],["type","line",3,"data","options"],["header","Recent Statements"],[1,"statement-list"],["class","statement-item",4,"ngFor","ngForOf"],["header","Next Steps"],[1,"next-steps"],[1,"statement-item"],[1,"statement-info"],[1,"statement-stats"],[3,"value","severity"],[1,"amount"]],template:function(t,m){t&1&&(e(0,"div",0)(1,"div",1)(2,"h2"),a(3),n(),e(4,"p",2),a(5,"Analysis of uploaded bank statements and categorized transactions"),n()(),C(6,j,4,0,"div",3)(7,U,1,1,"p-message",4)(8,L,35,20,"div",5),n()),t&2&&(i(3),l("Statement Dashboard - Client ",m.clientId,""),i(3),s("ngIf",m.loading),i(),s("ngIf",m.error&&!m.loading),i(),s("ngIf",!m.loading&&!m.error))},dependencies:[S,x,y,b,M,O,E,D,k,z,F,B,T,I,N,R,A,w],styles:[".client-statements-dashboard[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto}.header[_ngcontent-%COMP%]{margin-bottom:30px}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1f2937;margin-bottom:5px}.subtitle[_ngcontent-%COMP%]{color:#6b7280;margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:40px}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:30px}.summary-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-top:10px}.positive[_ngcontent-%COMP%]{color:#10b981}.negative[_ngcontent-%COMP%]{color:#ef4444}.charts-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:30px}@media (max-width: 768px){.charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr}.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}p-card[_ngcontent-%COMP%]{margin-bottom:20px}.statement-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.statement-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;border:1px solid #e5e7eb;border-radius:8px}.statement-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 5px;color:#1f2937}.statement-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:.875rem}.statement-stats[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px}.amount[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem}.next-steps[_ngcontent-%COMP%]{line-height:1.8}.next-steps[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0;font-size:1.1rem}"]})};export{H as ClientStatementsComponent};
